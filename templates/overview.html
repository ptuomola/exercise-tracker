{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="row mt-3 mb-3">
        <div class="col-md-12 d-flex">
            <h3 style="display:inline">Overview of your exercises ({{ period }})</h3><span style="margin: 0 50px;"><a href="/exercise" class="btn btn-primary ml-auto">Add exercise session</a></span>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
                <table class="table mb-4">
                    <tr>
                        <th scope="row">Total number of exercise sessions</th>
                        <td>{{ tot_exercises }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Total recorded duration of sessions</th>
                        <td>{{ tot_duration }}</td>
                    </tr>
                </table>   
                <h4>Exercises by type</h4>
                <table class="table mb-4">
                    <tr>
                        <th scope="col">Activity</th>
                        <th scope="col">Sessions</th>
                    </tr>
                    {% for activity in exercises_by_activity %}
                    <tr>
                        <td>{{ activity[0] }}</td>
                        <td>{{ activity[1] }}</td>
                    </tr>
                    {% endfor %}
                </table>
                <h4>Subactivities by type</h4>
                <table class="table">
                    <tr>
                        <th scope="col">Activity</th>
                        <th scope="col">Subactivity</th>
                        <th scope="col">Total</th>
                    </tr>
                    {% for activity in subactivities %}
                    <tr>
                        <td>{{ activity[0] }}</td>
                        <td>{{ activity[1] }}</td>
                        <td>{{ activity[2] }}</td>
                    </tr>
                    {% endfor %}
                </table>
                
        </div>
        <div class="col-md-6">
            <div class="mb-4">
                User <b>{{ user.email }} {% if user.name %} ({{ user.name }})</b> {% endif %}
            </div>
            View summary for:<p>
            <div><a href="?days=7">Last week</a></div>
            <div><a href="?days=30">Last month</a></div>
            <div><a href="?days=365">Last year</a></div>
            <div><a href="/">All time</a></div>

        </div>
    </div>
</div>
{% endblock %}